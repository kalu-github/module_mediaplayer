(window["bytedance_secsdk_captcha_jsonp_2.28.5"]=window["bytedance_secsdk_captcha_jsonp_2.28.5"]||[]).push([[2],{387:function(n,r,e){"use strict";e.r(r),e.d(r,"BATCH_REPORT_PATH",function(){return Ir}),e.d(r,"DEFAULT_IGNORE_PATHS",function(){return Nr}),e.d(r,"DEFAULT_SAMPLE_CONFIG",function(){return kr}),e.d(r,"DEFAULT_SAMPLE_GRANULARITY",function(){return Pr}),e.d(r,"DEFAULT_SENDER_SIZE",function(){return qr}),e.d(r,"DEVICE_ID_COOKIE_NAME",function(){return Lr}),e.d(r,"InjectConfigPlugin",function(){return Se}),e.d(r,"InjectEnvPlugin",function(){return le}),e.d(r,"ObserveErrorPlugin",function(){return _e}),e.d(r,"PLUGINS_LOAD_PREFIX",function(){return Tr}),e.d(r,"PrecollectPlugin",function(){return ye}),e.d(r,"REPORT_DOMAIN",function(){return xr}),e.d(r,"SDK_NAME",function(){return Or}),e.d(r,"SDK_VERSION",function(){return Dr}),e.d(r,"SETTINGS_DOMAIN",function(){return Rr}),e.d(r,"SETTINGS_PATH",function(){return Cr}),e.d(r,"STORAGE_PREFIX",function(){return Ar}),e.d(r,"TimeCalibrationPlugin",function(){return we}),e.d(r,"USER_ID_COOKIE_NAME",function(){return jr}),e.d(r,"addConfigToReportEvent",function(){return Ee}),e.d(r,"addEnvToSendEvent",function(){return de}),e.d(r,"applyPlugin",function(){return ce}),e.d(r,"browserBuilder",function(){return te}),e.d(r,"buildSelfErrorEvent",function(){return be}),e.d(r,"configHolder",function(){return Qr}),e.d(r,"createBrowserClient",function(){return Te}),e.d(r,"createBrowserConfigManager",function(){return ne}),e.d(r,"createMinimalBrowserClient",function(){return Re}),e.d(r,"createStore",function(){return pe}),e.d(r,"default",function(){return Ce}),e.d(r,"getConsumeStored",function(){return me}),e.d(r,"getDefaultConfig",function(){return xe}),e.d(r,"getDefaultSessionId",function(){return Kr}),e.d(r,"getDefaultUserIdAndDeviceId",function(){return Jr}),e.d(r,"getGlobalInstance",function(){return Xr}),e.d(r,"getGlobalName",function(){return Wr}),e.d(r,"getReportUrl",function(){return Gr}),e.d(r,"getServerConfig",function(){return re}),e.d(r,"getSettingsUrl",function(){return Fr}),e.d(r,"getStorageKey",function(){return Yr}),e.d(r,"getStoreOrConsume",function(){return ge}),e.d(r,"getViewId",function(){return zr}),e.d(r,"hasSetStorageItem",function(){return $r}),e.d(r,"loadNow",function(){return ae}),e.d(r,"loadPlugins",function(){return ue}),e.d(r,"loadPluginsOnPageLoad",function(){return ie}),e.d(r,"mergeSampleConfig",function(){return ee}),e.d(r,"normalizeInitConfig",function(){return Mr}),e.d(r,"normalizeUserConfig",function(){return Br}),e.d(r,"parseServerConfig",function(){return Ur}),e.d(r,"register",function(){return se}),e.d(r,"reverseMap",function(){return he}),e.d(r,"setStorageUserIdAndDeviceId",function(){return Zr}),e.d(r,"toObservableArray",function(){return Vr}),e.d(r,"validateInitConfig",function(){return Hr}),"object"===typeof document&&function(n){"currentScript"in n||Object.defineProperty(n,"currentScript",{get:function(){try{throw new Error}catch(s){var r=0,e=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(s.stack),t=e&&e[1]||!1,o=e&&e[2]||0,i=n.location.href.replace(n.location.hash,""),u="",a=n.getElementsByTagName("script");if(t===i){var c=n.documentElement.outerHTML,f=new RegExp("(?:[^\\n]+?\\n){0,"+(o-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i");u=c.replace(f,"$1").trim()}for(;r<a.length;r++){if("interactive"===a[r].readyState)return a[r];if(a[r].src===t)return a[r];if(t===i&&a[r].innerHTML&&a[r].innerHTML.trim()===u)return a[r]}return null}}})}(document);var t=function(){return(t=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n}).apply(this,arguments)};function o(n,r){var e="function"===typeof Symbol&&n[Symbol.iterator];if(!e)return n;var t,o,i=e.call(n),u=[];try{for(;(void 0===r||r-- >0)&&!(t=i.next()).done;)u.push(t.value)}catch(A){o={error:A}}finally{try{t&&!t.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}function i(n,r,e){if(e||2===arguments.length)for(var t,o=0,i=r.length;o<i;o++)!t&&o in r||(t||(t=Array.prototype.slice.call(r,0,o)),t[o]=r[o]);return n.concat(t||Array.prototype.slice.call(r))}var u=10,a=1e3,c=function(n){return JSON.stringify({ev_type:"batch",list:n})};var f=["init","start","config","beforeDestroy","provide","report","beforeBuild","build","beforeSend","send","beforeConfig"],s=function(){};function d(n){return n}function l(n){return"object"===typeof n&&null!==n}var v=Object.prototype;function p(n){if(l(n)){if("function"===typeof Object.getPrototypeOf){var r=Object.getPrototypeOf(n);return r===v||null===r}return"[object Object]"===v.toString.call(n)}return!1}function h(n){return"[object Array]"===v.toString.call(n)}function g(n){return"function"===typeof n}function m(n){return"number"===typeof n}function y(n){return"string"===typeof n}function b(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function _(n,r){var e=t({},n);for(var o in r)b(r,o)&&void 0!==r[o]&&(l(r[o])&&p(r[o])?e[o]=_(l(n[o])?n[o]:{},r[o]):h(r[o])&&h(n[o])?e[o]=w(n[o],r[o]):e[o]=r[o]);return e}function w(n,r){var e=h(n)?n:[],t=h(r)?r:[];return Array.prototype.concat.call(e,t).map(function(n){return n instanceof RegExp?n:l(n)&&p(n)?_({},n):h(n)?w([],n):n})}function E(n,r){if(!h(n))return!1;if(0===n.length)return!1;for(var e=0;e<n.length;){if(n[e]===r)return!0;e++}return!1}var S=function(n,r){if(!h(n))return n;var e=n.indexOf(r);if(e>=0){var t=n.slice();return t.splice(e,1),t}return n},x=function(n,r,e){for(var t,i=o(r.split(".")),u=i[0],a=i.slice(1);n&&a.length>0;)n=n[u],u=(t=o(a))[0],a=t.slice(1);if(n)return e(n,u)},R=function(n){return n.replace(/([a-z])([A-Z])/g,function(n,r,e){return r+"-"+e.toLowerCase()})};function T(n){return h(n)&&n.length?function(n){for(var r=[],e=n.length,t=0;t<e;t++){var o=n[t];y(o)?r.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&r.push(o.source)}return new RegExp(r.join("|"),"i")}(n):null}function D(n){try{return y(n)?n:JSON.stringify(n)}catch(r){return"[FAILED_TO_STRINGIFY]:"+String(r)}}var O=function(n,r,e){return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];if(!n)return s;var a=n[r],c=e.apply(void 0,i([a],o(t),!1)),f=c;return g(f)&&(f=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return c.apply(this,n)}catch(e){return g(a)&&a.apply(this,n)}}),n[r]=f,function(e){e&&f!==n[r]||(n[r]=a)}}},C=function(n,r,e){return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];n[r]=e.apply(void 0,i([n[r]],o(t),!1))}},I=0,A=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];console.error.apply(console,i(["[SDK]",Date.now(),(""+I++).padStart(8," ")],o(n),!1))},j=0,L=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];console.warn.apply(console,i(["[SDK]",Date.now(),(""+j++).padStart(8," ")],o(n),!1))},N=function(n){return Math.random()<Number(n)},P=function(n,r){return n<Number(r)},k=function(n){return function(r){for(var e=r,t=0;t<n.length&&e;t++)try{e=n[t](e)}catch(o){A(o)}return e}};function q(){var n=function(){for(var n=new Array(16),r=0,e=0;e<16;e++)0===(3&e)&&(r=4294967296*Math.random()),n[e]=r>>>((3&e)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var r=[],e=0;e<256;++e)r[e]=(e+256).toString(16).substr(1);var t=0,o=r;return[o[n[t++]],o[n[t++]],o[n[t++]],o[n[t++]],"-",o[n[t++]],o[n[t++]],"-",o[n[t++]],o[n[t++]],"-",o[n[t++]],o[n[t++]],"-",o[n[t++]],o[n[t++]],o[n[t++]],o[n[t++]],o[n[t++]],o[n[t++]]].join("")}(n)}var M=function(n){var r=function(){var n={},r={},e={set:function(t,o){return n[t]=o,r[t]=D(o),e},merge:function(o){return n=t(t({},n),o),Object.keys(o).forEach(function(n){r[n]=D(o[n])}),e},delete:function(t){return delete n[t],delete r[t],e},clear:function(){return n={},r={},e},get:function(n){return r[n]},toString:function(){return t({},r)}};return e}();n.provide("context",r),n.on("report",function(n){return n.extra||(n.extra={}),n.extra.context=r.toString(),n})},H=function(n,r,e){var t={},u=function e(){for(var u,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=a[0];if(f){var s=f.split(".")[0];if(!(s in e)){var d=t[s]||[],l=null!==(u=null===r||void 0===r?void 0:r(n))&&void 0!==u?u:{};return d.push(i([l],o(a),!1)),void(t[s]=d)}return function(n,r,e){return x(n,r,function(n,r){if(n&&r in n&&g(n[r]))try{return n[r].apply(n,e)}catch(t){return}})}(e,f,[].slice.call(a,1))}};for(var a in O(n,"provide",function(r){return function(e,t){u[e]=t,r.call(n,e,t)}})(),n)Object.prototype.hasOwnProperty.call(n,a)&&(u[a]=n[a]);return n.on("provide",function(r){t[r]&&(t[r].forEach(function(r){var t=o(r),i=t[0],u=t.slice(1);null===e||void 0===e||e(n,i,u)}),t[r]=null)}),u};function B(){if("object"===typeof window&&l(window))return window}function U(){if("object"===typeof document&&l(document))return document}function G(){return B()&&window.location}function F(){return B()&&window.history}function z(){if(B()&&l(window.performance))return window.performance}function K(){if("function"===typeof XMLHttpRequest&&g(XMLHttpRequest))return XMLHttpRequest}function V(){try{return new Headers,new Request(""),new Response,window.fetch}catch(n){}}function W(){if(B()&&g(window.MutationObserver))return window.MutationObserver}function X(){if(B()&&g(window.PerformanceObserver))return window.PerformanceObserver}function Y(){var n=function(){if(B()&&"navigator"in window)return window.navigator}();if(n)return n.connection||n.mozConnection||n.webkitConnection}var J=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[]}}),n.__SLARDAR_REGISTRY__.Slardar},$=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var e=J(B());e&&(e.errors||(e.errors=[]),e.errors.push(n))},Z=function(n,r){var e=n&&new n(r);return[function(n,r){e&&n&&e.observe(n,r)},function(){return e&&e.disconnect()}]},Q=function(n){var r=n&&n.timing||void 0;return[r,function(){return n&&n.now?n.now():(Date.now?Date.now():+new Date)-(r&&r.navigationStart||0)},function(r){var e=(n||{}).getEntriesByType;return g(e)&&e.call(n,r)||[]},function(){var r=(n||{}).clearResourceTimings;g(r)&&r.call(n)},function(r){var e=(n||{}).getEntriesByName;return g(e)&&e.call(n,r)||[]}]},nn=function(n,r,e,t){var o=n&&new n(function(n,o){n.getEntries?n.getEntries().forEach(function(n,e,t){return r(n,e,t,o)}):t&&t(),e&&o.disconnect()});return[function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(!n||!o)return t&&t();try{r.forEach(function(r){n.supportedEntryTypes.indexOf(r)>-1&&o.observe({type:r,buffered:!1})})}catch(i){try{o.observe({entryTypes:r})}catch(u){return t&&t()}}},function(){return o&&o.disconnect()}]},rn=function(n,r,e,t){void 0===r&&(r={}),void 0===t&&(t=[]);try{var u=n.apply(void 0,i([],o(t),!1));return u&&u(r,e)||[]}catch(a){return $(a),[]}};function en(n){var r=U();if(!r||!n)return"";var e=r.createElement("a");return e.href=n,e.href}function tn(n){var r=U();if(!r||!n)return{url:n,protocol:"",domain:"",query:"",path:"",hash:""};var e=r.createElement("a");e.href=n;var t=e.pathname||"/";return"/"!==t[0]&&(t="/"+t),{url:e.href,protocol:e.protocol.slice(0,-1),domain:e.hostname,query:e.search.substring(1),path:t,hash:e.hash}}function on(){var n=B()&&G();return null===n||void 0===n?void 0:n.href}var un=function(n){var r={url:on(),timestamp:Date.now()},e=n.config();return(null===e||void 0===e?void 0:e.pid)&&(r.pid=e.pid),(null===n||void 0===n?void 0:n.context)&&(r.context=n.context.toString()),r},an=function(n,r){return function(e){var t=function(n){return n.overrides=r,n};n.on("report",t),e(),n.off("report",t)}},cn=function(n){var r=U();try{if(null===r||void 0===r?void 0:r.cookie)return function(n,r){if(!n||!r)return"";return function(n){for(var r=n.split(";"),e={},t=0;t<r.length;t++){var o=r[t].split("="),i=y(o[0])&&o[0].trim();i&&y(o[1])&&(e[i]=o[1].trim())}return e}(n)[r]||""}(r.cookie,n)}catch(e){}return""};function fn(n){var r=B(),e=U();r&&e&&("complete"!==e.readyState?r.addEventListener("load",function(){setTimeout(function(){n()},0)},!1):n())}var sn=function(n){var r=!1;return[function(e){r||(r=!0,n&&n(e))}]},dn=function(n){var r=o(sn(n),1)[0];["unload","beforeunload","pagehide"].forEach(function(n){addEventListener(n,r)})},ln=function(n,r){var e,t=U();if(t){var o=t.createElement("script");o.src=n,o.crossOrigin="anonymous",o.onload=r,null===(e=t.head)||void 0===e||e.appendChild(o)}},vn=function(n,r){return l(n)?t(t({},r),n):!!n&&r},pn=function(n){try{var r=localStorage.getItem(n),e=r;return r&&"string"===typeof r&&(e=JSON.parse(r)),e}catch(t){return}},hn=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),gn=new RegExp("(bearer|session)","i"),mn=function(n,r){return!(!n||!r)&&(hn.test(n)||gn.test(r))};var yn=function(n,r,e){var t,i=n._method,u=n._reqHeaders,a=n._url,c=n._start,f=n._data,s={api:"xhr",request:{url:en(a),method:(i||"").toLowerCase(),headers:u,timestamp:c},response:{status:n.status||0,is_custom_error:!1,timing:e(n.responseURL),timestamp:Date.now()},duration:Date.now()-c};"function"===typeof n.getAllResponseHeaders&&(s.response.headers=y(t=n.getAllResponseHeaders())&&t?t.split("\r\n").reduce(function(n,r){if(y(r)){var e=o(r.split(": "),2),t=e[0],i=e[1];!mn(t,i)&&(n[t.toLowerCase()]=i)}return n},{}):{});var d=s.response.status,l=r.collectBodyOnError,v=r.extraExtractor;try{var p=null===v||void 0===v?void 0:v(n.response,s);p&&(s.extra=p),p&&(s.response.is_custom_error=!0),l&&d>=400&&(s.request.body=f?""+f:void 0,s.response.body=n.response?""+n.response:void 0)}catch(h){}return s},bn=function(n,r){var e=T(n||[]);return!!e&&e.test(r)},_n=function(n){var r=o(Q(n),5)[4];return function(n){return r(n).pop()}},wn=function(n){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];this._reqHeaders=this._reqHeaders||{};var t=o(r,2),i=t[0],u=t[1];return!mn(i,u)&&(this._reqHeaders[i.toLowerCase()]=u),n&&n.apply(this,r)}},En=function(n,r,e,t){return function(){for(var o=this,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return function(n,r){return C(n,"onreadystatechange",function(e,t,o){return function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];try{4===this.readyState&&!bn(t.ignoreUrls,n._url)&&o&&o({ev_type:"http",payload:yn(n,t,r)})}catch(a){$(a)}return e&&e.apply(this,i)}})}(this,t)(r,r.hookCbAtReq(e)),r.setTraceHeader&&r.setTraceHeader(this._url,function(n,r){return o.setRequestHeader(n,r)}),this._start=Date.now(),this._data=null===i||void 0===i?void 0:i[0],n.apply(this,i)}},Sn=function(n){return function(){for(var r,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r=o(e,2),this._method=r[0],this._url=r[1],n.apply(this,e)}},xn=function(n,r,e,t){C(n,"open",Sn)(),C(n,"setRequestHeader",wn)(),C(n,"send",En)(r,e,t)},Rn=function(n,r){if(void 0===n&&(n=K()&&B()),void 0===r&&(r=z()),n){var e=_n(r);return function(n,r){if(n.autoWrap){var t=XMLHttpRequest&&XMLHttpRequest.prototype;t&&xn(t,n,r,e)}return[function(t,o,i){return void 0===o&&(o=n),void 0===i&&(i=r),function(n,r,e,t){function o(){var o=new n;return xn(o,r,e,t),o}return o.prototype=new n,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach(function(r){o[r]=n[r]}),o}(t,o,i,e)}]}}},Tn={sampleRate:1,origins:[]},Dn=function(){var n=window.crypto||window.msCrypto;if(void 0!==n&&n.getRandomValues){var r=new Uint16Array(8);n.getRandomValues(r);var e=function(n){for(var r=n.toString(16);r.length<4;)r="0"+r;return r};return e(r[0])+e(r[1])+e(r[2])+e(r[3])+e(r[4])+e(r[5])+e(r[6])+e(r[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})},On=function(n){var r=vn(n,Tn);if(r&&N(r.sampleRate))return function(n,e){var t=r.origins;t.length&&Boolean(n.match(new RegExp(t.join("|"))))&&e("traceparent","03-"+Dn()+"-"+Dn().substring(16)+"-01")}};function Cn(n,r,e){var t,o=null===(t=n.config())||void 0===t?void 0:t.plugins[r];return vn(o,e)}var In=function(n,r){var e=n.config(),o={url:on(),pid:e.pid,view_id:e.viewId};return function(e){n.report(t(t({},e),{overrides:t(t({},o),r&&r(e)||{})}))}},An="ajax",jn={autoWrap:!0,hookCbAtReq:d,ignoreUrls:[],collectBodyOnError:!1},Ln=function(n){return function(r){if(!r)return r;var e=n.config(),o={url:on(),pid:e.pid,view_id:e.viewId};return function(n){r(t(t({},n),{overrides:t(t({},o),{timestamp:n.payload.request.timestamp})}))}}};function Nn(n,r){return n instanceof r}function Pn(n){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return r.reduce(function(r,e){return new n(e).forEach(function(n,e){return!mn(e,n)&&(r[e]=n)}),r},{})}var kn=function(n,r,e){var t=r&&r.method||"get";return Nn(n,e)&&(t=n.method||t),t.toLowerCase()},qn=function(n,r,e){return Nn(n,e)?n.body:null===r||void 0===r?void 0:r.body},Mn=function(n,r,e,t){return{method:kn(r,e,t),timestamp:Date.now(),url:en(n)}},Hn=function(n,r,e,i,u,a){return function(c,f){void 0===f&&(f={});var s=function(n,r,e){void 0===r&&(r=!1);var t="";return t=Nn(n,e)?n.url:n,r||(t=y(t)?t.split("?")[0]:t),t}(c,!1,u);if(!function(n){if(!y(n))return!1;var r=o(n.split(":"),2),e=r[0];return!r[1]||"http"===e||"https"===e}(s)||bn(r.ignoreUrls,s))return n(c,f);var d=r.hookCbAtReq(e),l={api:"fetch",request:Mn(c instanceof u?c.url:c,c,f,u),response:{is_custom_error:!1},duration:0};r.setTraceHeader&&r.setTraceHeader(l.request.url,function(n,r){return function(n,r,e,o,i,u){var a;Nn(e,i)?e.headers.set(n,r):o.headers instanceof u?o.headers.set(n,r):o.headers=t(t({},o.headers),((a={})[n]=r,a))}(n,r,c,f,u,i)});var v=n(c,f);try{l.request.headers=Pn(i,c.headers,f.headers)}catch(h){$(h)}var p=function(){d&&d({ev_type:"http",payload:l})};return v.then(function(n){var e;try{l.response.status=n.status||0,l.response.headers=Pn(i,n.headers),l.duration=Date.now()-l.request.timestamp;var t=r.collectBodyOnError,o=r.extraExtractor;try{o&&n.clone().json().then(function(n){var r=o(n,l);r&&(l.extra=r,l.response.is_custom_error=!0)})}catch(s){}t&&n.status>=400&&(l.request.body=null===(e=qn(c,f,u))||void 0===e?void 0:e.toString()),setTimeout(function(){l.response.timing=a(n.url),p()},100)}catch(h){$(h)}},function(){var n;try{l.response.status=0,l.duration=Date.now()-l.request.timestamp,r.collectBodyOnError&&(l.request.body=null===(n=qn(c,f,u))||void 0===n?void 0:n.toString())}catch(h){$(h)}p()}),v}},Bn=function(n,r,e,t){if(void 0===n&&(n=V()&&B()),void 0===r&&(r=window.Headers),void 0===e&&(e=window.Request),void 0===t&&(t=z()),n&&r&&e){var o=_n(t);return function(t,i){t.autoWrap&&C(n,"fetch",Hn)(t,i,r,e,o);return[function(n,u,a){return void 0===u&&(u=t),void 0===a&&(a=i),Hn(n,u,a,r,e,o)}]}}},Un="fetch",Gn={autoWrap:!0,hookCbAtReq:d,ignoreUrls:[],collectBodyOnError:!1};var Fn=["name","message","stack","filename","lineno","colno"],zn=function(n){var r,e,t,o;return!function(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return!0;default:return n instanceof Error}}(n)?(p(n)||(o=n,"undefined"!==typeof Event&&function(n,r){try{return n instanceof r}catch(e){return!1}}(o,Event))||y(n))&&(r={message:D(n)}):(t=Fn,r=(e=n)&&l(e)?t.reduce(function(n,r){return n[r]=e[r],n},{}):e),r},Kn=function(n){return r=n,"[object ErrorEvent]"===Object.prototype.toString.call(r)?zn(n.error):function(n){return"[object PromiseRejectionEvent]"===Object.prototype.toString.call(n)}(n)?function(n){var r;try{var e=void 0;if("reason"in n?e=n.reason:"detail"in n&&"reason"in n.detail&&(e=n.detail.reason),e){var o=zn(e);return t(t({},o),{name:null!==(r=o&&o.name)&&void 0!==r?r:"UnhandledRejection"})}}catch(i){}}(n):zn(n);var r},Vn=function(n,r,e){if(void 0===n&&(n=B()),void 0===r&&(r=G()),void 0===e&&(e=F()),n&&r)return function(t,i){var u=t.sendInit,a=t.initPid,c=t.routeMode,f=t.extractPid,s=t.onPidUpdate,d=[],l="manual"===c?function(){return""}:function(n){return function(r){var e;return"hash"===n?(null===(e=tn(r).hash)||void 0===e?void 0:e.replace(/^#/,""))||"/":tn(r).path}}(c),v=f||function(){},p=o(function(n,r,e,t){var o=e,i=r;t&&t(r);return[function(r,e,u){"user_set"!==r&&e!==o?(o=e,i=null!==u&&void 0!==u?u:o,t&&t(i),n(r,i)):"user_set"===r&&e!==i&&(i=e,t&&t(i),n(r,i))},function(){r&&n("init",r)}]}(function(n,r){i&&i({ev_type:"pageview",payload:{pid:r,source:n}})},a||function(n){var r;return null!==(r=v(n))&&void 0!==r?r:l(n)}(r.href),l(r.href),s),2),h=p[0],g=p[1],m=h.bind(null,"user_set");if("manual"!==c){var y=o(function(n,r){var e=r;return[function(r,t){t!==e&&n(r,e=t)}]}(function(n,r){return h(n,l(r),v(r))},""),1)[0],b=function(){return y("history",r.href)};if(e){var _=function(n){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];try{n.apply(e,r)}finally{b()}}};d.push(O(e,"pushState",_)(),O(e,"replaceState",_)())}if("hash"===c){var w=function(){return y("hash",r.href)};n.addEventListener("hashchange",w,!0),d.push(function(){return n.removeEventListener("hashchange",w,!0)})}else n.addEventListener("popstate",b,!0),d.push(function(){return n.removeEventListener("popstate",b,!0)})}return u&&g(),[m,function(){d.forEach(function(n){return n()})}]}},Wn="pageview",Xn={sendInit:!0,routeMode:"history"};var Yn={isSupport:!0,isPolyfill:!1,isBounced:!1,isCustom:!1,type:"perf"},Jn=function(n,r){return t({name:n,value:r},Yn)},$n=function(n){return{ev_type:"performance",payload:n}},Zn=function(n,r){return void 0===n&&(n=X()),void 0===r&&(r=z()),function(e,t){var i=e.metricName,u=e.entryName,a=Jn(i,0),c=o(sn(t),1)[0];if(!r||!n)return a.isSupport=!1,void c(a);var f=function(n){var r=n.startTime;a.value=r,c(a)},s=(0,o(Q(r),5)[4])(u)[0];if(s)f(s);else{var d=o(nn(n,function(n){n.name===u&&(f(n),v())}),2),l=d[0],v=d[1];l("paint");!function(n){"hidden"!==document.visibilityState?addEventListener("visibilitychange",function r(){"hidden"===document.visibilityState&&(n(),removeEventListener("visibilitychange",r,!0))},!0):n()}(function(){a.isSupport=!1,c(a),v()});dn(function(){a.isBounced=!0,c(a),v()})}}},Qn={entries:[],observer:void 0},nr=function(n){var r,e=-1/0,t=void 0,o=function(){return window.clearTimeout(t)},i=function(i){e>i||!r||(o(),t=window.setTimeout(r,i-n()),e=i)};return[function(n,e){r=n,i(e)},function(){o(),r=void 0},i]},rr=function(n){var r=n||{},e=r.domContentLoadedEventEnd,t=r.navigationStart;return e?e-(void 0===t?0:t):null},er=function(n){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return this._method=r[0],n.apply(this,r)}},tr=function(n,r,e){var t=0;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if("GET"!==this._method)return n.apply(this,o);var u=t+=2;return r(u,Date.now()),O(this,"onreadystatechange",function(n){return function(r){n&&n.call(this,r),4===this.readyState&&e(u)}})(),n.apply(this,o)}},or=function(n,r,e){var t=1;return function(){for(var u,a,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return"GET"!==((null===(u=c[0])||void 0===u?void 0:u.method)||(null===(a=c[1])||void 0===a?void 0:a.method)||"GET")?n.apply(void 0,i([],o(c),!1)):new Promise(function(u,a){var f=t+=2;r(f,Date.now()),n.apply(void 0,i([],o(c),!1)).then(function(n){e(f),u(n)},function(n){e(f,n),a(n)})})}},ir=function(n,r,e,t){return function(i,u,a){var c=o(function(){var n=[],r=[];return[n,r,function(e,t){return function(o){var i=o,u=i.startTime,a=i.duration,c=i.fetchStart,f=i.responseEnd,s=i.entryType;"longtask"===s?(o.start=u,o.end=u+a,n.push(o),e&&e(o)):"resource"===s&&(r.push({start:c,end:f}),t&&t(o))}}]}(),3),f=c[0],s=c[1],d=c[2],l=o(function(n,r){var e=o(function(){var n={};return[n,function(r,e){return n[r]=e},function(r){return delete n[r]}]}(),3),t=e[0],i=e[1],u=e[2],a=r&&O(r.prototype,"open",er)(),c=r&&O(r.prototype,"send",tr)(i,u),f=n&&O(n,"fetch",or)(i,u);return[t,function(){a&&a(!0),c&&c(!0),f&&f(!0)}]}(n,r),2),v=l[0],p=l[1],h=o(t&&function(n,r){var e=["img","script","iframe","link","audio","video","source"];function t(n,r){for(var e=0;e<n.length;e++)if(E(r,n[e].nodeName.toLowerCase())||n[e].children&&t(n[e].children,r))return!0;return!1}var i=o(Z(n,function(n){for(var o=0;o<n.length;o++)("childList"===n[o].type&&t(n[o].addedNodes,e)||"attributes"===n[o].type&&E(e,n[o].target.nodeName.toLowerCase()))&&r(n[o])}),2),u=i[0];return[function(){return u(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]})},i[1]]}(t,function(){return u(a()+5e3)})||[],2),g=h[0],m=h[1];g&&g();var y=function(){return function(n,r,e){if(n.length>2)return e();for(var t=[],i=0;i<r.length;i++)t.push([r[i].start,0],[r[i].end,1]);for(i=0;i<n.length;i++)t.push([n[i],0]);t.sort(function(n,r){return n[0]-r[0]});var u=n.length;for(i=t.length-1;i>=0;i--){var a=o(t[i],2),c=a[0];switch(a[1]){case 0:u--;break;case 1:if(++u>2)return c}}return 0}(function(n){for(var r=Object.keys(n),e=[],t=0;t<r.length;t++){var o=n[r[t]];"number"===typeof o&&e.push(o)}return e}(v),s,a)},b=o(nn(e,d(function(n){var r=n.startTime,e=n.duration;return u(r+e+5e3)},function(){return u(y()+5e3)}),!1,function(){return f.notSupport=!0}),2),_=b[0],w=b[1];return _("longtask","resource"),i.forEach(d()),[f,function(){p(),w(),m&&m()},y]}},ur=function(n,r,e,t,i){return void 0===n&&(n=K()),void 0===r&&(r=V()&&B()),void 0===e&&(e=X()),void 0===t&&(t=W()),void 0===i&&(i=z()),function(u,a,c,f){var s=Jn("tti",0),d=o(sn(function(n){var r=$n(n);a&&a(r)}),1)[0];if(!n||!r||!e||!i)return s.isSupport=!1,d(s),[function(){return 0}];var l=u.precollect,v=u.isAsync,p=void 0===v?0:v,h=u.minValue,g=void 0===h?null:h,m=l||{},y=m.entries,b=void 0===y?[]:y,_=m.observer,w=o(Q(i),5),E=w[0],S=w[1],x=w[4],R=o(nr(S),3),T=R[0],D=R[1],O=R[2],C=o(ir(r,n,e,t)(p?[]:b,O,S),3),I=C[0],A=C[1],j=C[2],L=function(){D(),A(),c&&c(),_&&_.disconnect(),b.length=0},N=function(n){var r=x("first-contentful-paint")[0],e=function(n,r,e,t,o){if(t-e<5e3)return null;var i=0===o.length?n:o[o.length-1].end;return t-i<5e3?null:Math.max(i,r)}((r?r.startTime:rr(E))||0,g||rr(E)||0,j(),S()+(n?0:5e3),I);return n?e?(L(),void n(e)):O(S()+1e3):(L(),e)};if(f&&f(I,O,s),I.notSupport)return s.isSupport=!1,d(s),[function(){return 0}];var P=function(n){s.value=n,d(s)},k=I[I.length-1];T(function(){return N(P)},Math.max(j()+5e3,k?k.end:0));return[function(){return N()||0}]}},ar="tti";var cr=["SCRIPT","STYLE","META","HEAD"],fr=function n(r,e,t,o){if(!r||o.indexOf(r.tagName)>-1)return 0;var i=r.children,u=void 0===i?[]:i,a=[].slice.call(u).reduceRight(function(r,t){return r+n(t,e+1,r>0,o)},0);if(a<=0&&!t){if(!g(r.getBoundingClientRect))return 0;var c=r.getBoundingClientRect()||{},f=c.top,s=c.height;if(f>window.innerHeight||s<=0)return 0}return a+1+.5*e},sr=function(n,r,e,t,i){var u;return void 0===n&&(n=U()),void 0===r&&(r=W()),void 0===e&&(e=null===(u=function(){var n=z();if(n&&l(n.timing))return n.timing}())||void 0===u?void 0:u.navigationStart),void 0===t&&(t=function(){if(B()&&"requestAnimationFrame"in window)return window.requestAnimationFrame}()),void 0===i&&(i=function(){if(B()&&"cancelAnimationFrame"in window)return window.cancelAnimationFrame}()),function(u,a){var c=u.renderType,f=Jn("fmp",0),d=function(n){var r=$n(n);a&&a(r)};if("SSR"===c)return rn(Zn,{metricName:"fmp",entryName:"first-contentful-paint"},d),[s];var l=o(sn(d),1)[0];if(!n||!r||!e)return f.isSupport=!1,l(f),[s];var v=Date.now(),p=[],h=function(){return p.push({time:Date.now()-v,score:fr(n&&n.body,1,!1,cr)})},m=o(function(n,r,e,t){var o,i=!g(r)||t&&n&&n.hidden?function(n){return n(0),0}:r,u=g(e)?e:s;return[function(n){o&&u(o),o=i(n)},i,u]}(n,t,i,!0),1)[0],y=o(Z(r,function(){return m(h)}),2),b=y[0],_=y[1],w=v-(e||0);return b(n,{subtree:!0,childList:!0}),[function(n){void 0===n&&(n=0),_();var r=function(n){var r=o(void 0===n?[]:n),e=r[0],t=r.slice(1);return t&&t.reduce(function(n,r){var e=o(n,2),t=e[0],i=e[1],u=r.score-t.score;return[r,r.time>=t.time&&i.rate<u?{time:r.time,rate:u}:i]},[e,{time:null===e||void 0===e?void 0:e.time,rate:0}])[1].time||0}(p);f.value=r?r+n:0,l(f)}.bind(null,w)]}},dr="fmp",lr={renderType:"CSR"};var vr=function(n){n.provide("sendEvent",function(r){var e=function(n){if(n&&l(n)&&n.name&&y(n.name)){var r={name:n.name,type:"event"};if("metrics"in n&&l(n.metrics)){var e=n.metrics,t={};for(var o in e)m(e[o])&&(t[o]=e[o]);r.metrics=t}if("categories"in n&&l(n.categories)){var i=n.categories,u={};for(var o in i)u[o]=D(i[o]);r.categories=u}return r}}(r);e&&n.report({ev_type:"custom",payload:e,extra:{timestamp:Date.now()}})}),n.provide("sendLog",function(r){var e=function(n){if(n&&l(n)&&n.content&&y(n.content)){var r={content:D(n.content),type:"log",level:"info"};if("level"in n&&(r.level=n.level),"extra"in n&&l(n.extra)){var e=n.extra,t={},o={};for(var i in e)m(e[i])?t[i]=e[i]:o[i]=D(e[i]);r.metrics=t,r.categories=o}return r}}(r);e&&n.report({ev_type:"custom",payload:e,extra:{timestamp:Date.now()}})})};function pr(n){return(null===n||void 0===n?void 0:n.effectiveType)||(null===n||void 0===n?void 0:n.type)||""}var hr=function(n,r){var e=n.common||{};return e.sample_rate=r,n.common=e,n},gr=function(n,r,e,t,o){return n?(i=o(t,r),function(){return i}):function(){return e(r)};var i},mr=function(n,r,e,t){var o=x(n,r,function(n,r){return n[r]});return void 0!==o&&function(n,r,e){switch(e){case"eq":return E(r,n);case"neq":return!E(r,n);case"gt":return n>r[0];case"gte":return n>=r[0];case"lt":return n<r[0];case"lte":return n<=r[0];case"regex":return Boolean(n.match(new RegExp(r.join("|"))));case"not_regex":return!n.match(new RegExp(r.join("|")));default:return!1}}(o,function(n,r){return n.map(function(n){switch(r){case"number":return Number(n);case"boolean":return"1"===n;case"string":default:return String(n)}})}(t,"boolean"===typeof o?"bool":m(o)?"number":"string"),e)},yr=function n(r,e){try{return"rule"===e.type?mr(r,e.field,e.op,e.values):"and"===e.type?e.children.every(function(e){return n(r,e)}):e.children.some(function(e){return n(r,e)})}catch(t){return $(t),!1}},br=function(n,r,e,t){if(!r)return d;var o=r.sample_rate,i=r.include_users,u=r.sample_granularity,a=r.rules,c=r.r,f=void 0===c?Math.random():c;if(E(i,n))return function(n){return hr(n,1)};var s="session"===u,l=gr(s,o,e,f,t),v=function(n,r,e,t,o,i){var u={};return Object.keys(n).forEach(function(a){var c=n[a],f=c.enable,s=c.sample_rate,d=c.conditional_sample_rules;f?(u[a]={enable:f,sample_rate:s,effectiveSampleRate:s*e,hit:gr(r,s,t,o,i)},d&&(u[a].conditional_hit_rules=d.map(function(n){var u=n.sample_rate,a=n.filter;return{sample_rate:u,hit:gr(r,u,t,o,i),effectiveSampleRate:u*e,filter:a}}))):u[a]={enable:f,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),u}(a,s,o,e,f,t);return function(n){var r;if(!l())return!1;if(!(n.ev_type in v))return hr(n,o);if(!v[n.ev_type].enable)return!1;if(null===(r=n.common)||void 0===r?void 0:r.sample_rate)return n;var e=v[n.ev_type],t=e.conditional_hit_rules;if(t)for(var i=0;i<t.length;i++)if(yr(n,t[i].filter))return!!t[i].hit()&&hr(n,t[i].effectiveSampleRate);return!!e.hit()&&hr(n,e.effectiveSampleRate)}},_r=function(){var n=B();return n&&n.navigator.sendBeacon?{get:function(){},post:function(r,e){n.navigator.sendBeacon(r,e)}}:{get:s,post:s}},wr=function(n,r,e){var t=r.url,o=r.data,i=r.success,u=void 0===i?s:i,a=r.fail,c=void 0===a?s:a,f=r.getResponseText,d=void 0===f?s:f,l=r.withCredentials,v=void 0!==l&&l,p=new e;p.withCredentials=v,p.open(n,t,!0),p.setRequestHeader("Content-Type","application/json"),p.onload=function(){null===d||void 0===d||d(this.responseText);try{if(this.responseText){var n=JSON.parse(this.responseText);u(n)}else u({})}catch(r){c(r)}},p.onerror=function(){c(new Error("Network request failed"))},p.onabort=function(){c(new Error("Network request aborted"))},p.send(o)},Er=function(){var n=K();return n?{get:function(r){wr("GET",r,n)},post:function(r){wr("POST",r,n)}}:{get:s,post:s}};function Sr(n){var r=function(n){var r=n.transport,e=n.endpoint,t=n.size,o=void 0===t?u:t,i=n.wait,f=void 0===i?a:i,s=[],d=0;function l(){s.length&&(r.post({url:e,data:this.getBatchData()}),s=[])}return{getSize:function(){return o},getWait:function(){return f},setSize:function(n){o=n},setWait:function(n){f=n},getEndpoint:function(){return e},setEndpoint:function(n){e=n},send:function(n){s.push(n),s.length>=o&&l.call(this),clearTimeout(d),d=setTimeout(l.bind(this),f)},flush:function(){clearTimeout(d),l.call(this)},getBatchData:function(){return s.length?c(s):""},clear:function(){clearTimeout(d),s=[]}}}(n),e=_r(),t=function(n){e.post(r.getEndpoint(),c([n]))};return dn(function(){var n=r.getBatchData();n&&(e.post(r.getEndpoint(),n),r.clear()),r.send=t}),r}var xr="mon.zijieapi.com",Rr=xr,Tr="https://lf3-short.ibytedapm.com/slardar/fe/sdk-web/plugins",Dr="1.1.0",Or="SDK_SLARDAR_WEB",Cr="/monitor_web/settings/browser-settings",Ir="/monitor_browser/collect/batch/",Ar="SLARDAR",jr="MONITOR_WEB_ID",Lr="MONITOR_DEVICE_ID",Nr=["/log/sentry/",Ir,Cr],Pr="session",kr={sample_rate:1,include_users:[],sample_granularity:Pr,rules:{}},qr=20;function Mr(n){var r=n.plugins||{};for(var e in r)r[e]&&!l(r[e])&&(r[e]={});return t(t({},n),{plugins:r})}function Hr(n){return l(n)&&"bid"in n}function Br(n){return t({},n)}function Ur(n){var r;if(!n)return{};var e=n.sample,t=n.user_id,o=n.plugins,i=n.timestamp;if(!e)return{userId:t};var u=e.sample_rate,a=e.sample_granularity,c=void 0===a?Pr:a,f=e.include_users,s=e.rules;return{userId:t,sample:{include_users:f,sample_rate:u,sample_granularity:c,rules:(void 0===s?[]:s).reduce(function(n,r){var e=r.name,t=r.enable,o=r.sample_rate,i=r.conditional_sample_rules;return n[e]={enable:t,sample_rate:o,conditional_sample_rules:i},n},{})},plugins:{heatmap:null!==(r=null===o||void 0===o?void 0:o.heatmap)&&void 0!==r&&r},serverTimestamp:i}}var Gr=function(n,r){return void 0===r&&(r=Ir),(n&&n.indexOf("//")>=0?"":"https://")+n+r},Fr=function(n,r){return void 0===r&&(r=Cr),(n&&n.indexOf("//")>=0?"":"https://")+n+r},zr=function(n){return n+"_"+Date.now()},Kr=function(){return q()},Vr=function(n){var r=[];return n.observe=function(n){r.push(n)},n.push=function(){for(var e,t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];return t.forEach(function(n){r.forEach(function(r){return r(n)})}),(e=[].push).call.apply(e,i([n],o(t),!1))},n},Wr=function(){var n,r,e,t=B(),o=U();if(t&&o)return(null===(e=null===(r=null===(n=o.currentScript)||void 0===n?void 0:n.getAttribute("src"))||void 0===r?void 0:r.match(/globalName=(.+)$/))||void 0===e?void 0:e[1])||"Slardar"},Xr=function(){var n=B(),r=Wr();if(n&&r)return n[r]},Yr=function(n){return Ar+n},Jr=function(n){void 0===n&&(n="");var r=Yr(n);return pn(r)||{userId:cn(jr)||q(),deviceId:cn(Lr)||q()}},$r=function(n){void 0===n&&(n="");var r=Yr(n);return!!pn(r)},Zr=function(n){var r=n.bid,e=n.userId,t=n.deviceId;!function(n,r){try{var e="string"===typeof r?r:JSON.stringify(r);localStorage.setItem(n,e)}catch(t){}}(Yr(r),{userId:e,deviceId:t})},Qr={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},ne=function(n){var r,e,o=n,i={},u=Qr.get(),a=s,c=s;return{getConfig:function(){return o},setConfig:function(n){return i=t(t({},i),n||{}),f(),r||(r=n,o.useLocalConfig||!o.bid?(e={},a()):u?d():re(o.domain,o.bid,function(n){u=n,d()})),o},onChange:function(n){c=n},onReady:function(n){a=function(){Zr(o),n()},e&&a()}};function f(){var r=t(t(t({},n),e||{}),i);r.plugins=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var e={},t=0;t<n.length;)e=_(e,n[t++]);return e}(n.plugins,(null===e||void 0===e?void 0:e.plugins)||{},i.plugins||{}),r.sample=ee(ee(n.sample,null===e||void 0===e?void 0:e.sample),i.sample),o=r,c()}function d(){e=Ur(u),$r(o.bid)&&(e.userId=n.userId),f(),a()}};function re(n,r,e){Er().get({withCredentials:!0,url:Fr(n)+"?bid="+r+"&store=1",success:function(n){e(n.data||{})},fail:function(){e({sample:{sample_rate:.001}})}})}function ee(n,r){if(!n||!r)return n||r;var e=t(t({},n),r);return e.include_users=i(i([],o(n.include_users||[]),!1),o(r.include_users||[]),!1),e.rules=i(i([],o(Object.keys(n.rules||{})),!1),o(Object.keys(r.rules||{})),!1).reduce(function(e,u){var a,c;return u in e||(u in(n.rules||{})&&u in(r.rules||{})?(e[u]=t(t({},n.rules[u]),r.rules[u]),e[u].conditional_sample_rules=i(i([],o(n.rules[u].conditional_sample_rules||[]),!1),o(r.rules[u].conditional_sample_rules||[]),!1)):e[u]=(null===(a=n.rules)||void 0===a?void 0:a[u])||(null===(c=r.rules)||void 0===c?void 0:c[u])),e},{}),e}var te={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:t(t({},n.extra||{}),n.overrides||{})}}},oe="";function ie(n,r,e){void 0===e&&(e=ue),fn(function(){n.on("init",function(){e(n,r)})})}function ue(n,r,e){void 0===e&&(e=ae);var t=n.config(),o=t.plugins,i=t.pluginBundle;Object.keys(o).forEach(function(t){o[t]&&(i&&E(i.plugins,t)?e(n,i,r):e(n,{name:t,config:o[t]},r))})}function ae(n,r,e,t){var o=r.name,i=r.plugins,u=r.config;(void 0===t&&(t=ln),function(n,r){return E(n.loaded,r)||E(n.loading,r)}(n,o))||(n.loading.push(o),t(function(n,r,e){var t;return null!==(t=null===e||void 0===e?void 0:e.path)&&void 0!==t?t:n.config().pluginPathPrefix+"/"+R(r)+"."+Dr+"."+oe+"js"}(n,o,u),function(){E(n.loaded,o)||(i?i.forEach(function(r){E(n.loaded,r)||ce(n,r,e)}):ce(n,o,e))}))}function ce(n,r,e){if(void 0===e&&(e=J(B())),e){var t=fe(e,r);if(t)try{t.apply(n),n.loaded.push(r)}catch(o){$(o),L("[loader].applyPlugin failed",r,o)}else L("[loader].applyPlugin not found",r)}}function fe(n,r){return n.plugins.filter(function(n){return n.name===r&&n.version===Dr})[0]}function se(n,r,e){void 0===e&&(e=J(B())),e&&e.plugins&&(fe(e,n)||e.plugins.push({name:n,version:Dr,apply:r}))}var de=function(n){var r={url:on(),timestamp:Date.now(),sdk_version:Dr,sdk_name:Or};return t(t({},n),{extra:t(t({},r),n.extra||{})})},le=function(n){n.on("report",function(n){return de(n)})},ve={sri:"reportSri",st:"reportResourceError",err:"captureException"},pe=function(n){return Object.keys(n).reduce(function(n,r){return n[r]=[],n},{})},he=function(n){return Object.keys(n).reduce(function(r,e){return r[n[e]]=e,r},{})},ge=function(n,r,e){return function(o,i,u,a){var c;void 0===u&&(u=Date.now()),void 0===a&&(a=location.href);var f=t(t({},un(n)),{url:a,timestamp:u});r[o]&&(n[e[o]]?an(n,f)(function(){n[e[o]](i)}):null===(c=r[o])||void 0===c||c.push([i,f]))}},me=function(n,r,e){return function(t){var i;t in e&&(null===(i=r[e[t]])||void 0===i||i.forEach(function(r){var e=o(r,2),i=e[0],u=e[1];an(n,u)(function(){n[t](i)})}),r[e[t]]=null)}},ye=function(n,r){var e;void 0===r&&(r=ve);var t=pe(r),i=he(r),u=ge(n,t,r);(null===(e=n.p)||void 0===e?void 0:e.a)&&"observe"in n.p.a&&n.p.a.observe(function(n){var r=o(n,5);r[0];var e=r[1],t=r[2],i=r[3],a=r[4];u(e,t,i,a)}),n.on("init",function(){var r;null===(r=n.p)||void 0===r||r.a.forEach(function(n){var r=o(n,5);r[0];var e=r[1],t=r[2],i=r[3],a=r[4];u(e,t,i,a)}),n.p&&n.p.a&&(n.p.a.length=0)}),n.provide("precollect",u),n.on("provide",me(n,t,i))},be=function(n){var r=o(n,2),e=r[0],t=r[1];return{ev_type:"js_error",payload:{error:Kn(e),breadcrumbs:[],extra:t||{}},extra:{bid:"slardar_sdk"}}},_e=function(n,r){void 0===r&&(r=.001);var e=J(B());e&&(e.errors||(e.errors=[]),"observe"in e.errors||N(r)&&(e.errors=Vr(e.errors),e.errors.forEach(function(r){n.report(be(r))}),e.errors.observe(function(r){n.report(be(r))})))},we=function(n){var r,e=!1;n.on("init",function(){r=(new Date).getTime(),n.on("config",function(){var o,i=null===(o=n.config())||void 0===o?void 0:o.serverTimestamp;if(!(isNaN(i)||Number(i)<=0||e)){e=!0;var u=(new Date).getTime();if(u-r<700&&i){var a=i-(u+r)/2;!isNaN(a)&&(a>0||a<-6e5)&&n.on("beforeBuild",function(n){var r;return t(t({},n),{extra:t(t({},null!==(r=n.extra)&&void 0!==r?r:{}),{sdk_offset:null!==a&&void 0!==a?a:0})})})}}})})},Ee=function(n,r){var e={};return e.bid=r.bid,e.pid=r.pid,e.view_id=r.viewId,e.user_id=r.userId,e.device_id=r.deviceId,e.session_id=r.sessionId,e.release=r.release,e.env=r.env,t(t({},n),{extra:t(t({},e),n.extra||{})})},Se=function(n){n.on("beforeBuild",function(r){return Ee(r,n.config())})},xe=function(n){var r=Jr(n.bid);return{bid:"",pid:"",viewId:zr("_"),userId:r.userId,deviceId:r.deviceId,sessionId:Kr(),domain:xr,pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource","sri"]},pluginPathPrefix:Tr,plugins:{ajax:{ignoreUrls:Nr},fetch:{ignoreUrls:Nr},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},sri:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:kr}},Re=function(n){var r=void 0===n?{}:n,e=r.createSender,u=void 0===e?function(n){return Sr({size:qr,endpoint:Gr(n.domain),transport:Er()})}:e,a=r.builder,c=void 0===a?te:a,s=r.createDefaultConfig,d=function(n){var r,e,t=n.builder,u=n.createSender,a=n.createDefaultConfig,c=n.createConfigManager,s=n.userConfigNormalizer,d=n.initConfigNormalizer,v=n.validateInitConfig,p={};f.forEach(function(n){return p[n]=[]});var h=!1,g=!1,m=[],y=[],b={getBuilder:function(){return t},getSender:function(){return r},getPreStartQueue:function(){return m},init:function(n){if(h)L("already inited");else{if(!(n&&l(n)&&v(n)))throw new Error("invalid InitConfig, init failed");var t=a(n);if(!t)throw new Error("defaultConfig missing");var o=d(n);if((e=c(t)).setConfig(o),e.onChange(function(){_("config")}),!(r=u(e.getConfig())))throw new Error("sender missing");h=!0,_("init",!0)}},set:function(n){h&&n&&l(n)&&(_("beforeConfig",!1,n),null===e||void 0===e||e.setConfig(n))},config:function(n){if(h)return n&&l(n)&&(_("beforeConfig",!1,n),null===e||void 0===e||e.setConfig(s(n))),null===e||void 0===e?void 0:e.getConfig()},provide:function(n,r){E(y,n)?L("cannot provide "+n+", reserved"):(b[n]=r,_("provide",!1,n))},start:function(){var n=this;h&&(g||null===e||void 0===e||e.onReady(function(){g=!0,_("start",!0),m.forEach(function(r){return n.build(r)}),m=[]}))},report:function(n){if(n){var r=k(p.report)(n);r&&(g?this.build(r):m.push(r))}},build:function(n){if(g){var r=k(p.beforeBuild)(n);if(r){var e=t.build(r);if(e){var o=k(p.build)(e);o&&this.send(o)}}}},send:function(n){if(g){var e=k(p.beforeSend)(n);e&&(r.send(e),_("send",!1,e))}},destroy:function(){_("beforeDestroy",!0)},on:function(n,r){"init"===n&&h?r():"start"===n&&g?r():p[n]&&p[n].push(r)},off:function(n,r){p[n]&&(p[n]=S(p[n],r))}};return y=Object.keys(b),b;function _(n,r){void 0===r&&(r=!1);for(var e=[],t=2;t<arguments.length;t++)e[t-2]=arguments[t];p[n].forEach(function(n){try{n.apply(void 0,i([],o(e),!1))}catch(r){}}),r&&(p[n].length=0)}}({validateInitConfig:Hr,initConfigNormalizer:Mr,userConfigNormalizer:Br,createSender:u,builder:c,createDefaultConfig:void 0===s?xe:s,createConfigManager:ne});d.loaded=[],d.loading=[],_e(d),M(d),we(d),Se(d),le(d),function(n){var r=Y(),e=pr(r);r&&(r.onchange=function(){e=pr(r)}),n.on("report",function(n){return t(t({},n),{extra:t(t({},n.extra||{}),{network_type:e})})})}(d);var v=H(d,un,function(n,r,e){return an(n,r)(function(){var n=o(e),r=n[0],t=n.slice(1);d[r].apply(d,i([],o(t),!1))})});return function(n){n.on("init",function(){var r=[],e=n.config();e&&e.integrations&&e.integrations.forEach(function(e){E(r,e.name)||(r.push(e.name),e.setup(n),e.tearDown&&n.on("beforeDestroy",e.tearDown))})})}(v),v},Te=function(n){void 0===n&&(n={});var r=Re(n);return r.loaded.push("heatmap"),ie(r),function(n){n.on("start",function(){var r=n.config(),e=r.userId,t=r.sample,o=br(e,t,N,P);n.on("build",o)})}(r),ye(r),vr(r),function(n){n.on("init",function(){var r,e=Cn(n,Wn,Xn);if(e){var i=o(rn(Vn,t(t({},e),{initPid:null===(r=n.config())||void 0===r?void 0:r.pid,onPidUpdate:function(r){n.set({pid:r,viewId:r+"_"+Date.now(),actionId:void 0})}}),n.report.bind(n)),2),u=i[0],a=i[1];n.on("config",function(){u(n.config().pid)}),n.on("beforeDestroy",a),n.provide("sendPageview",u)}})}(r),r.loaded.push(Wn),function(n){n.on("init",function(){var r=Cn(n,An,jn);if(r){var e=!1,i=o(rn(Rn,t(t({},r),{hookCbAtReq:Ln(n),setTraceHeader:On(r.trace)}),function(r){return!e&&n.report(r)}),1)[0];n.on("beforeDestroy",function(){e=!0}),n.provide("wrapXhr",i)}})}(r),r.loaded.push(An),function(n){n.on("init",function(){var r=Cn(n,Un,Gn);if(r){var e=!1,i=o(rn(Bn,t(t({},r),{hookCbAtReq:Ln(n),setTraceHeader:On(r.trace)}),function(r){return!e&&n.report(r)}),1)[0];n.on("beforeDestroy",function(){e=!0}),n.provide("wrapFetch",i)}})}(r),r.loaded.push(Un),function(n){n.on("init",function(){var r=Cn(n,ar,{});if(r){var e=n.pp||Qn;rn(ur,t(t({},r),{precollect:e}),In(n))}})}(r),r.loaded.push(ar),function(n){n.on("init",function(){var r=Cn(n,dr,lr);if(r){var e=o(rn(sr,r,In(n)),1)[0];fn(function(){return setTimeout(e,200)})}})}(r),r.loaded.push(dr),r},De="precollect",Oe=3e5;var Ce=Te(),Ie=B();Ie&&function(n,r){"addEventListener"in n&&(r.pcErr=function(e){var t=(e=e||n.event).target||e.srcElement||{};t instanceof Element||t instanceof HTMLElement?t.getAttribute("integrity")?r(De,"sri",t.getAttribute("href")||t.getAttribute("src")):r(De,"st",{tagName:t.tagName,url:t.getAttribute("href")||t.getAttribute("src")}):r(De,"err",e.error||e.message)},r.pcRej=function(e){e=e||n.event,r(De,"err",e.reason||e.detail&&e.detail.reason)},n.addEventListener("error",r.pcErr,!0),n.addEventListener("unhandledrejection",r.pcRej,!0),setTimeout(function(){n.removeEventListener("error",r.pcErr,!0),n.removeEventListener("unhandledrejection",r.pcRej,!0)},Oe)),"PerformanceObserver"in n&&"PerformanceLongTaskTiming"in n&&(r.pp={entries:[]},r.pp.observer=new PerformanceObserver(function(n){r.pp.entries=r.pp.entries.concat(n.getEntries())}),r.pp.observer.observe({entryTypes:["longtask","largest-contentful-paint","layout-shift"]}),setTimeout(function(){r.pp.observer.disconnect()},Oe))}(Ie,Ce)}}]);